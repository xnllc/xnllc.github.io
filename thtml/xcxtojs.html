<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, 
minimum-scale=0.5, maximum-scale=2.0, user-scalable=yes" />
	<title>js交互测试</title>

	<script type="text/javascript" src="https://res.wx.qq.com/open/js/jweixin-1.3.2.js"></script>
	<script>




		console.log('小程序测试');
		console.log(window.__wxjs_environment);

		function displayDate() {
			document.getElementById("demo").innerHTML += '<br> :' + Date();
		}



		function addlog(text) {
			document.getElementById("textlog").innerHTML += '<br> :' + text;
		}

		function navigateTo() {
			addlog('navigateTo 测试  msgaftersale')

			wx.miniProgram.navigateTo({ url: '../aftersale/msgaftersale' })
		}
		function navigateTo2() {
			addlog('navigateTo2 测试 test')

			wx.miniProgram.navigateTo({ url: "../test/test?test=" + 'js11111111' })
		}

		function navigateBack() {
			addlog('navigateBack 测试')

			wx.miniProgram.navigateBack();
		}


		function postMessage() {
			addlog('postMessage 测试')

			wx.miniProgram.postMessage({ data: 'foo', text: 'postMessage'})
		}


		function getEnv() {
			addlog('getEnv 测试')

			wx.miniProgram.getEnv(function (res) { console.log(res.miniprogram) })
		}





	</script>
</head>
<style>
	h1 {
		color: orange;
		text-align: center;
	}

	p {
		font-family: "Times New Roman";
		font-size: 20px;
	}

	button {
		background-color: #4CAF50;
		/* Green */
		border: none;
		color: white;
		padding: 10px 15px;
		text-align: center;
		text-decoration: none;
		display: inline-block;
		font-size: 16px;
		margin: 5px;
	}
</style>

<body>

	<h1>JS 测试</h1>
	<p id="demo">这是一个段落</p>
	<p id="textlog">输出：</p>

	<button type="button" onclick="displayDate()">显示日期</button>


	<button type="button" onclick="navigateTo()"> navigateTo 跳转 </button>
	<button type="button" onclick="navigateTo2()"> navigateTo2 跳转 test </button>
	<button type="button" onclick="navigateBack()"> navigateBack 回退 </button>
	<button type="button" onclick="postMessage()"> postMessage 向小程序发送消息 </button>
	<button type="button" onclick="getEnv()"> getEnv 获取当前环境</button>


</body>

</html>